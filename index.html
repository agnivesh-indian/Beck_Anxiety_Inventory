<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Beck Anxiety Inventory (BAI)</title>
    <style>
        :root {
            --primary-color: #007bff;
            --secondary-color: #6c757d;
            --background-color: #f0f4f8;
            --text-color: #333;
            --container-bg: #ffffff;
            --success-color: #28a745;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
                Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background: var(--background-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 1rem;
            box-sizing: border-box;
        }

        .app-container {
            width: 100%;
            max-width: 600px;
        }

        .app {
            background: var(--container-bg);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            text-align: center;
            transition: opacity 0.5s ease-in-out;
        }

        .app.fade-out {
            opacity: 0;
        }

        .start-page h1 {
            color: var(--primary-color);
        }

        .start-page p {
            color: var(--text-color);
            margin-bottom: 2rem;
        }

        .progress-bar {
            width: 100%;
            background: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 20px;
        }

        .progress {
            height: 10px;
            background: linear-gradient(90deg, #007bff, #82baff);
            transition: width 0.3s ease-in-out;
        }

        .question-section h2 {
            color: var(--text-color);
            margin-bottom: 10px;
        }

        .question-section p {
            font-size: 1.2rem;
            color: var(--text-color);
            margin-bottom: 20px;
            min-height: 50px;
        }

        .options {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }

        .options label {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 15px;
            margin: 5px 0;
            width: 100%;
            cursor: pointer;
            transition: background 0.2s, transform 0.1s;
            display: block;
        }

        .options label:hover {
            background: #e9ecef;
            transform: scale(1.02);
        }
        
        .options input[type='radio'] {
            display: none;
        }

        .options input[type='radio']:checked + label {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 15px 30px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 1rem;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 8px;
            transition: background-color 0.3s, transform 0.1s;
        }

        button:hover:not(:disabled) {
            background-color: #0056b3;
            transform: scale(1.05);
        }

        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }

        .results-section {
            text-align: center;
        }

        .results-section h2 {
            color: var(--primary-color);
        }

        .results-section p {
            font-size: 1.1rem;
        }

        .results-section strong {
            color: var(--success-color);
            font-size: 1.3rem;
        }
        
        .disclaimer {
            font-size: 0.9rem;
            color: var(--secondary-color);
            margin-top: 2rem;
            text-align: justify;
        }
    </style>
</head>
<body>
    <div id="app-root" class="app-container"></div>

    <script>
        const questions = [
            { text: "Numbness or tingling" },
            { text: "Feeling hot" },
            { text: "Wobbliness in legs" },
            { text: "Unable to relax" },
            { text: "Fear of worst happening" },
            { text: "Dizzy or lightheaded" },
            { text: "Heart pounding / racing" },
            { text: "Unsteady" },
            { text: "Terrified or afraid" },
            { text: "Nervous" },
            { text: "Feeling of choking" },
            { text: "Hands trembling" },
            { text: "Shaky / unsteady" },
            { text: "Fear of losing control" },
            { text: "Difficulty in breathing" },
            { text: "Fear of dying" },
            { text: "Scared" },
            { text: "Indigestion" },
            { text: "Faint / lightheaded" },
            { text: "Face flushed" },
            { text: "Hot / cold sweats" },
        ];

        let currentQuestion = 0;
        let scores = Array(questions.length).fill(null);
        let appState = 'start'; // 'start', 'test', 'results'

        function getInterpretation(score) {
            if (score >= 0 && score <= 21) {
                return "Low anxiety. These ups and downs are considered normal.";
            } else if (score >= 22 && score <= 35) {
                return "Moderate anxiety. Your physical symptoms may be causing you some distress. Consider seeking a professional opinion.";
            } else {
                return "High anxiety. Your physical symptoms are likely causing you significant distress. It is important to seek a professional opinion.";
            }
        }
        
        function render() {
            const appRoot = document.getElementById('app-root');
            appRoot.innerHTML = '';
            const appDiv = document.createElement('div');
            appDiv.className = 'app';
            appRoot.appendChild(appDiv);

            if (appState === 'start') {
                appDiv.innerHTML = `
                    <div class="start-page">
                        <h1>Beck Anxiety Inventory (BAI)</h1>
                        <p>Below is a list of common symptoms of anxiety. Please carefully read each item in the list. Indicate how much you have been bothered by that symptom during the past month, including today, by selecting the appropriate option.</p>
                        <button onclick="startTest()">Start Test</button>
                    </div>
                `;
            } else if (appState === 'test') {
                const currentQ = questions[currentQuestion];
                appDiv.innerHTML = `
                    <div class="question-section">
                        <div class="progress-bar">
                            <div class="progress" style="width: ${((currentQuestion) / questions.length) * 100}%;"></div>
                        </div>
                        <p>${currentQ.text}</p>
                        <div class="options">
                            ${[
                                { score: 0, label: "Not at all" },
                                { score: 1, label: "Mildly, but it didn’t bother me much" },
                                { score: 2, label: "Moderately – it wasn’t pleasant at times" },
                                { score: 3, label: "Severely – it bothered me a lot" },
                            ].map(({ score, label }) => `
                                <div>
                                    <input
                                        type="radio"
                                        id="option-${score}"
                                        name="question-${currentQuestion}"
                                        value="${score}"
                                        ${scores[currentQuestion] === score ? 'checked' : ''}
                                        onchange="handleScoreChange(${score})"
                                    />
                                    <label for="option-${score}">${label}</label>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            } else if (appState === 'results') {
                const totalScore = scores.reduce((acc, curr) => acc + curr, 0);
                appDiv.innerHTML = `
                    <div class="results-section">
                        <h2>Your Results</h2>
                        <p>Your total score is: <strong>${totalScore}</strong></p>
                        <p>Interpretation: ${getInterpretation(totalScore)}</p>
                        <p class="disclaimer">
                            <strong>Disclaimer:</strong> This is a self-report inventory and not a diagnostic tool. The results are for informational purposes only and should not be considered a substitute for a professional psychological evaluation. For a proper diagnosis and treatment, please consult a qualified mental health professional.
                        </p>
                        <button onclick="resetTest()">Take Again</button>
                    </div>
                `;
            }
        }
        
        function handleScoreChange(score) {
            scores[currentQuestion] = score;
            
            const appDiv = document.querySelector('.app');
            appDiv.classList.add('fade-out');

            setTimeout(() => {
                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                } else {
                    appState = 'results';
                }
                render();
                const newAppDiv = document.querySelector('.app');
                newAppDiv.classList.add('fade-out');
                setTimeout(() => newAppDiv.classList.remove('fade-out'), 10);
            }, 500);
        }

        function startTest() {
            appState = 'test';
            render();
        }

        function resetTest() {
            currentQuestion = 0;
            scores = Array(questions.length).fill(null);
            appState = 'start';
            render();
        }

        document.addEventListener('DOMContentLoaded', render);
    </script>
</body>
</html>
